<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/bootstrap.css">
    <title>API接口本地虚拟数据调试说明</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card" style="margin-top:40px;padding: 40px;">
                    <ul>
                        <li>
                            1.npm install json-server -g
                        </li>
                        <li>
                            2.npm install
                        </li>
                        <li>
                            3.npm run mock
                        </li>
                        <li>
                            4.浏览器打开 http://localhost:4000
                        </li>
                        <li>
                            5.用法：
                            <p>
                                GET
                                <p>
                                    这个时候访问 http://localhost:3003/db 可以查看 db.json 文件中所定义的全部数据。
                                    使用浏览器地址栏，jQuery.get 或 fecth({method: "get"}) 访问 http://localhost:3003/news ，则可以看到
                                    news
                                    对象下的数据,以Array格式返回:
                                </p>
                                <p>
                                    [
                                    {
                                    "id": 1,
                                    "title": "曹县宣布昨日晚间登日成功",
                                    "date": "2016-08-12",
                                    "likes": 55,
                                    "views": 100086
                                    },
                                    {
                                    "id": 2,
                                    "title": "长江流域首次发现海豚",
                                    "date": "2016-08-12",
                                    "likes": 505,
                                    "views": 9800
                                    }
                                    ]
                                </p>
                            </p>
                            <p>
                                POST
                                <p>
                                    以jquery的 $.ajax 方法举例,以下代码会实时的向 db.json 中的 news 对象push一条新的数据再次用 get 方式访问
                                    http://localhost:3003/news
                                    , 就可以看到它了
                                </p>
                                <p>
                                    $.ajax({
                                    type: 'post',
                                    url: 'http://localhost:3003/news',
                                    data: {
                                    "id": 3,
                                    "title": "我是新加入的新闻",
                                    "date": "2016-08-12",
                                    "likes": 0,
                                    "views": 0
                                    }
                                    }
                                    )
                                </p>
                            </p>
                            <p>
                                PUT
                                <p>
                                    同样以jquery的 $.ajax 方法举例,以下代码会实时的对 db.json 中的 news 对象中 id=1 数据进行修改
                                </p>
                                <p>
                                    $.ajax({
                                    type: 'put',
                                    url: 'http://localhost:3003/news/1',
                                    data: {
                                    "title": "曹县宣布昨日晚间登日失败",
                                    "date": "2016-08-12",
                                    "likes": 55,
                                    "views": 100086
                                    }
                                    }
                                    )
                                </p>
                                <p>
                                    // 结果

                                    [
                                    {
                                    "id": 1,
                                    "title": "曹县宣布昨日晚间登日失败",
                                    "date": "2016-08-12",
                                    "likes": 55,
                                    "views": 100086
                                    }
                                    ]
                                </p>
                                PATCH 和 DELETE 使用方式同上，就不做演示了。
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</body>

</html>